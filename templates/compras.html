<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu compras</title>
    <link rel="stylesheet" href="/static/css/produto.css">
</head>
<body>

    <div class="filtro-acoes">
        <button onclick="alterarSituacao()">Alterar situação</button>
        <button onclick="clonarCompra()">Clonar</button>
        <button onclick="enviar()">Enviar</button>
    </div>

    <div class="container">
        <!-- Cabeçalho e barra de pesquisa -->
        <div class="pesquisa">
            <div class="campo-pesquisa">
                <input type="text" id="pesquisaProduto" placeholder="Pesquisar Produto">
                <button onclick="pesquisarProduto()" class="lupa">
                    <img src="https://img.icons8.com/ios/452/search.png" alt="Lupa" width="20">
                </button>
            </div>
        </div>

        <div class="sidebar">
            <ul>
                <li><a href="/produtos">Análise de produtos</a></li>
            </ul>
            
            <a href="/inicio" class="botao-voltar">Voltar</a>

        </div>

        <!-- Tabela de produtos -->
        <div class="tabela-produtos">
            <table>
                <thead>
                    <tr>
                        <th>N ordem</th>
                        <th>Data da compra</th>
                        <th>Previsão de Entrega</th>
                        <th>Fornecedor</th>
                        <th>Valor da compra</th>
                        <th>N fiscal</th>
                        <th>Data recebimento</th>
                        <th>Destino</th>
                        <th>Categoria</th>
                        <th>Valor recebimento</th>
                        <th>Situação</th>
                    </tr>
                </thead>
                <tbody id="tabelaProdutos">
                    <!-- Dados da tabela serão preenchidos dinamicamente -->
                </tbody>
            </table>
        </div>

        <div class="botoes-acao">
            <button onclick="excluirProduto()">Excluir</button>
        </div>
    </div>

    <script>
        // Simulação de dados de produtos
        let produtos = [
            { n_ordem: "038", data_compra: "02/03/2025",  entrega: "05/02/2025", fornecedor: "Nagaura", documento: "nfe-324", recebimento: "06/02/2025", destino: "Aldeota", valor: "250.00", categoria: "Hortifruti", situacao: "Entregue", valor_recebimento: "250.00" }
        ];

        // Função para preencher a tabela com os produtos
        function preencherTabela(produtos) {
            const tabelaProdutos = document.getElementById('tabelaProdutos');
            tabelaProdutos.innerHTML = ''; // Limpa a tabela antes de adicionar os novos dados
            produtos.forEach(produto => {
                let tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${produto.n_ordem}</td>
                    <td>${produto.data_compra}</td>
                    <td>${produto.entrega}</td>
                    <td>${produto.fornecedor}</td>
                    <td>R$ ${produto.valor}</td>
                    <td>${produto.documento}</td>
                    <td>${produto.recebimento}</td>
                    <td>${produto.destino}</td>
                    <td>${produto.categoria}</td>
                    <td>${produto.valor_recebimento}</td>
                     <td>${produto.situacao}</td>
                `;
                tabelaProdutos.appendChild(tr);
            });
        }

        // Função de pesquisa por nome
        function pesquisarProduto() {
            const pesquisa = document.getElementById("pesquisaProduto").value.toLowerCase();
            const produtosFiltrados = produtos.filter(produto => produto.nome.toLowerCase().includes(pesquisa));
            preencherTabela(produtosFiltrados);
        }

        // Função de cadastrar produto (simulação)
        function cadastrarProduto() {
            alert("Cadastrar produto (Função não implementada)");
        }

        // Função de alterar produto (simulação)
        function alterarProduto() {
            alert("Alterar produto (Função não implementada)");
        }

        // Função de excluir produto (simulação)
        function excluirProduto() {
            alert("Excluir produto (Função não implementada)");
        }

        // Função de alterar situação (simulação)
        function alterarSituacao() {
            alert("Alterar situação (Função não implementada)");
        }

        // Função de clonar compra (simulação)
        function clonarCompra() {
            alert("Clonar compra (Função não implementada)");
        }

        // Função de enviar (simulação)
        function enviar() {
            alert("Enviar (Função não implementada)");
        }

        // Preencher a tabela inicialmente
        preencherTabela(produtos);
    </script>
</body>
</html>
